---
// Services Section - Premium Design with Pricing Plans
interface Plan {
  id: string;
  name: string;
  description: string;
  price: {
    amount: number;
    currency: string;
    period: string;
    display: string;
  };
  features: { text: string; included: boolean }[];
  popular?: boolean;
  cta: {
    text: string;
    link: string;
  };
}

interface Props {
  plans?: Plan[];
}

const { plans = [] } = Astro.props;
---

<section class="section-premium bg-slate-50 relative overflow-hidden" id="precios">
  <!-- Background -->
  <div class="absolute inset-0 bg-grid-pattern opacity-30"></div>
  <div class="absolute inset-0 bg-gradient-to-b from-slate-50 via-transparent to-slate-50"></div>
  <div class="glow-orb glow-orb-green w-[700px] h-[700px] -top-48 -right-48 opacity-20"></div>
  <div class="glow-orb glow-orb-orange w-[600px] h-[600px] bottom-0 -left-48 opacity-20"></div>
  
  <div class="container-premium relative z-10">
    <!-- Section Header -->
    <div class="text-center mb-20">
      <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 border border-slate-200 text-xs font-medium text-lime-600 mb-6 uppercase tracking-wider animate-fade-up">
        La Diferencia Platanito
      </div>
      <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold text-slate-900 mb-6 tracking-tight animate-fade-up stagger-1">
        No somos otra <span class="text-transparent bg-clip-text bg-gradient-to-r from-lime-500 to-orange-500">agencia más</span>.
      </h2>
      <p class="text-lg text-slate-500 max-w-2xl mx-auto animate-fade-up stagger-2">
        Combinamos arte y tecnología para crear experiencias digitales que no solo se ven bien, sino que funcionan como un reloj suizo.
      </p>
    </div>
    
    <!-- Pricing Plans Grid -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-20 pt-6">
      {plans.map((plan, index) => (
        <div 
          class={`relative rounded-3xl p-8 transition-all duration-500 animate-fade-up ${
            plan.popular 
              ? 'bg-white border-2 border-lime-500 shadow-xl shadow-lime-500/10 scale-105 z-10' 
              : 'bg-white border border-slate-200 hover:border-slate-300 hover:shadow-lg'
          }`}
          style={`animation-delay: ${0.1 * (index + 1)}s`}
        >
          {/* Popular Badge */}
          {plan.popular && (
            <div class="absolute -top-4 left-1/2 -translate-x-1/2 z-50">
              <div class="inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full bg-gradient-to-r from-lime-500 to-green-600 text-white text-sm font-semibold shadow-lg shadow-lime-500/30 border-2 border-white whitespace-nowrap">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                Popular
              </div>
            </div>
          )}
          
          {/* Plan Header */}
          <div class="mb-8">
            <h3 class="text-2xl font-bold text-slate-900 mb-2">{plan.name}</h3>
            <p class="text-slate-500 text-sm">{plan.description}</p>
          </div>
          
          {/* Price */}
          <div class="mb-8">
            <div class="flex items-baseline gap-1">
              <span class="text-4xl md:text-5xl font-bold text-slate-900">{plan.price.display}</span>
            </div>
          </div>
          
          {/* Features */}
          <ul class="space-y-4 mb-8">
            {plan.features.map((feature) => (
              <li class="flex items-start gap-3">
                <div class={`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center ${
                  feature.included ? 'bg-lime-100 text-lime-600' : 'bg-slate-100 text-slate-400'
                }`}>
                  {feature.included ? (
                    <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                    </svg>
                  ) : (
                    <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                  )}
                </div>
                <span class={`text-sm ${feature.included ? 'text-slate-600' : 'text-slate-400 line-through'}`}>
                  {feature.text}
                </span>
              </li>
            ))}
          </ul>
          
          {/* CTA Button */}
          <a 
            href={plan.cta.link}
            class={`block w-full py-4 px-6 rounded-xl text-center font-semibold transition-all duration-300 ${
              plan.popular
                ? 'bg-gradient-to-r from-lime-500 to-green-600 text-white hover:shadow-lg hover:shadow-lime-500/30 hover:scale-[1.02]'
                : 'bg-slate-100 text-slate-700 hover:bg-slate-200'
            }`}
          >
            {plan.cta.text}
          </a>
        </div>
      ))}
    </div>
    
    <!-- Bottom CTA -->
    <div class="text-center animate-fade-up">
      <div class="inline-flex flex-col sm:flex-row items-center gap-6 p-8 rounded-3xl bg-gradient-to-br from-white to-transparent border border-slate-200">
        <div class="text-center sm:text-left">
          <p class="text-slate-900 text-lg font-medium mb-1">¿Listo para empezar?</p>
          <p class="text-slate-400">Cuéntanos tu proyecto y te enviamos un presupuesto personalizado</p>
        </div>
        <a href="/#contacto" class="btn-premium group flex-shrink-0">
          <span class="relative z-10 flex items-center">
            Contactar
            <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </span>
        </a>
      </div>
    </div>
  </div>
</section>
