---
// Testimonials Section Component - Premium Light Theme with Enhanced Effects
interface Testimonial {
  name: string;
  role: string;
  company: string;
  companyUrl?: string;
  text: string;
  rating: number;
  image: string;
  imageAlt: string;
}

interface Props {
  testimonials?: Testimonial[];
  title?: string;
  subtitle?: string;
}

const { 
  testimonials = [],
  title = 'Lo que dicen nuestros clientes',
  subtitle = 'Clientes satisfechos que confían en nuestro trabajo',
} = Astro.props;

// Default testimonials
const defaultTestimonials = [
  {
    name: 'Ana Padilla',
    role: 'Directora',
    company: 'Clínica Koral',
    text: 'Desde el diseño de nuestra web hasta su mantenimiento, han demostrado un profesionalismo y dedicación excepcionales. Muy recomendables.',
    rating: 5,
    initial: 'A',
    gradient: 'from-orange-500 to-amber-600'
  },
  {
    name: 'Juan Poveda',
    role: 'Gerente',
    company: 'Murcia Production Services',
    text: 'La creación de nuestro sitio web corporativo fue un proceso impecable. El equipo capturó a la perfección nuestros valores y visión.',
    rating: 5,
    initial: 'J',
    gradient: 'from-orange-500 to-amber-600'
  },
];
---

<section class="relative py-28 overflow-hidden" id="testimonios">
  <!-- Background -->
  <div class="absolute inset-0 bg-slate-50"></div>
  <div class="absolute inset-0 bg-[linear-gradient(rgba(0,0,0,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(0,0,0,0.03)_1px,transparent_1px)] bg-[size:64px_64px]"></div>
  
  <!-- Glow Orbs -->
  <div class="glow-orb glow-orb-orange w-[600px] h-[600px] top-0 -right-64 opacity-30"></div>
  <div class="glow-orb glow-orb-orange w-[500px] h-[500px] bottom-0 -left-64 opacity-20"></div>
  
  <div class="relative max-w-6xl mx-auto px-6">
    <!-- Section Header -->
    <div class="text-center mb-20">
      <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-slate-50 border border-slate-200 text-sm text-slate-500 mb-8 animate-fade-up">
        <svg class="w-4 h-4 text-orange-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" />
        </svg>
        Testimonios reales
      </span>
      <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold text-slate-900 mb-6 animate-fade-up stagger-1">
        Lo que dicen 
        <span class="text-gradient">nuestros clientes</span>
      </h2>
      <p class="text-lg md:text-xl text-slate-500 max-w-2xl mx-auto animate-fade-up stagger-2">
        {subtitle}
      </p>
    </div>
    
    <!-- Testimonials Grid -->
    <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto mb-16">
      {defaultTestimonials.map((testimonial, index) => (
        <article class={`group relative rounded-3xl bg-white border border-slate-200 p-8 hover:bg-white hover:border-orange-500/40 transition-all duration-700 animate-fade-up stagger-${index + 3}`}>
          <!-- Gradient background on hover -->
          <div class="absolute inset-0 rounded-3xl bg-gradient-to-br from-orange-500/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"></div>
          
          <!-- Quote icon -->
          <div class="absolute top-6 right-6 opacity-10 group-hover:opacity-20 transition-opacity">
            <svg class="w-16 h-16 text-orange-500" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
            </svg>
          </div>
          
          <div class="relative">
            <!-- Stars -->
            <div class="flex items-center gap-1 mb-6">
              {[...Array(testimonial.rating)].map(() => (
                <svg class="w-5 h-5 text-amber-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/>
                </svg>
              ))}
            </div>
            
            <p class="text-slate-600 text-lg mb-8 leading-relaxed">
              "{testimonial.text}"
            </p>
            
            <div class="flex items-center gap-4">
              <div class={`w-14 h-14 rounded-2xl bg-gradient-to-br ${testimonial.gradient} p-0.5 group-hover:scale-110 transition-transform duration-500`}>
                <div class="w-full h-full rounded-[14px] bg-white flex items-center justify-center">
                  <span class="text-xl font-bold text-slate-900">{testimonial.initial}</span>
                </div>
              </div>
              <div>
                <p class="font-semibold text-slate-900 text-lg">{testimonial.name}</p>
                <p class="text-slate-400">{testimonial.role}</p>
                <p class="text-sm text-orange-600">{testimonial.company}</p>
              </div>
            </div>
          </div>
        </article>
      ))}
    </div>
    
    <!-- Trust Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 animate-fade-up">
      <div class="group relative p-6 rounded-2xl bg-white border border-slate-100 hover:border-orange-500/40 hover:bg-white transition-all duration-500 text-center">
        <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-orange-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <div class="relative">
          <div class="w-12 h-12 mx-auto mb-4 rounded-xl bg-gradient-to-br from-orange-500 to-amber-600 p-0.5">
            <div class="w-full h-full rounded-[10px] bg-white flex items-center justify-center">
              <svg class="w-6 h-6 text-slate-900" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z" />
              </svg>
            </div>
          </div>
          <p class="stat-number text-gradient mb-1">50+</p>
          <p class="text-sm text-slate-400">Proyectos entregados</p>
        </div>
      </div>
      
      <div class="group relative p-6 rounded-2xl bg-white border border-slate-100 hover:border-orange-500/40 hover:bg-white transition-all duration-500 text-center">
        <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-orange-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <div class="relative">
          <div class="w-12 h-12 mx-auto mb-4 rounded-xl bg-gradient-to-br from-orange-500 to-amber-600 p-0.5">
            <div class="w-full h-full rounded-[10px] bg-white flex items-center justify-center">
              <svg class="w-6 h-6 text-slate-900" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.182 15.182a4.5 4.5 0 01-6.364 0M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z" />
              </svg>
            </div>
          </div>
          <p class="stat-number text-gradient mb-1">100%</p>
          <p class="text-sm text-slate-400">Clientes satisfechos</p>
        </div>
      </div>
      
      <div class="group relative p-6 rounded-2xl bg-white border border-slate-100 hover:border-orange-500/40 hover:bg-white transition-all duration-500 text-center">
        <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-orange-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <div class="relative">
          <div class="w-12 h-12 mx-auto mb-4 rounded-xl bg-gradient-to-br from-orange-500 to-amber-600 p-0.5">
            <div class="w-full h-full rounded-[10px] bg-white flex items-center justify-center">
              <svg class="w-6 h-6 text-slate-900" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" />
              </svg>
            </div>
          </div>
          <p class="stat-number text-gradient mb-1">5 años</p>
          <p class="text-sm text-slate-400">De experiencia</p>
        </div>
      </div>
      
      <div class="group relative p-6 rounded-2xl bg-white border border-slate-100 hover:border-orange-500/40 hover:bg-white transition-all duration-500 text-center">
        <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-orange-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <div class="relative">
          <div class="w-12 h-12 mx-auto mb-4 rounded-xl bg-gradient-to-br from-orange-500 to-amber-600 p-0.5">
            <div class="w-full h-full rounded-[10px] bg-white flex items-center justify-center">
              <svg class="w-6 h-6 text-slate-900" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" />
              </svg>
            </div>
          </div>
          <p class="stat-number text-gradient mb-1">24/7</p>
          <p class="text-sm text-slate-400">Soporte disponible</p>
        </div>
      </div>
    </div>
  </div>
</section>
